summon item ~ ~ ~ {Item:{id:"minecraft:diamond",Count:1b},Tags:["mcch_item"]}
execute as @e[sort=nearest,type=item,limit=1,nbt={Tags:["mcch_item"]}] at @s run data modify entity @s Item set from storage item player_select
tellraw @s [{"text": "","bold": false},{"text": "\n=============MCCH=============\n","bold": true,"color": "yellow"},{"text": "[/give]: ","bold": true,"color": "green"},{"text": "给予实体物品(尚未能实现/give指令,仅物品给予)\n\n","color": "yellow","bold": false},{"text": "选择一项物品\n","color": "gold"},{"text": "   "},{"text": "[选择手持物品]\n\n","bold": true,"color": "green","hoverEvent": {"action": "show_text","value": "§6点我选择当前手持物品"},"clickEvent": {"action": "run_command","value": "/function mcch_give:give_getitem"}},{"text": "   "},{"text": "隐藏物品\n","color": "gold"},{"text": "   "},{"text": "[命令方块]","color": "aqua","bold": true,"clickEvent": {"action": "run_command","value": "/function mcch_give:give_command_block"},"hoverEvent": {"action": "show_text","value": "§6点我将物品设为命令方块"}},{"text": " "},{"text": "[屏障]","color": "aqua","bold": true,"clickEvent": {"action": "run_command","value": "/function mcch_give:give_barrier"},"hoverEvent": {"action": "show_text","value": "§6点我将物品设为屏障"}},{"text": " "},{"text": "[结构方块]","color": "aqua","bold": true,"clickEvent": {"action": "run_command","value": "/function mcch_give:give_structure_block"},"hoverEvent": {"action": "show_text","value": "§6点我将物品设为结构方块"}},{"text": " "},{"text": "[命令方块矿车]","color": "aqua","bold": true,"clickEvent": {"action": "run_command","value": "/function mcch_give:give_command_block_minecart"},"hoverEvent": {"action": "show_text","value": "§6点我将物品设为命令方块矿车"}},{"text": "\n\n目前已选物品 ","color": "gold"},{"text": " [","color": "red"},{"selector":"@e[type=item,sort=nearest,limit=1,nbt={Tags:[\"mcch_item\"]}]","color": "red"},{"text": "]","color": "red"},{"text": "\n\n对已选物品的操作","color": "gold"}]
# 存在内存中，没设置过名字
execute as @s at @s if data storage minecraft:text text unless data storage minecraft:item player_select.tag.display.Name run tellraw @s [{"text": "   "},{"text": "[重命名]","color": "green","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我让物品名字设为内存文本(储存在内存中)"},"clickEvent": {"action": "run_command","value": "/data modify storage minecraft:item player_select.tag.display.Name set from storage minecraft:text text"}}]
# 设置过名字
execute as @s at @s if data storage minecraft:text text if data storage minecraft:item player_select.tag.display.Name run tellraw @s [{"text": "   "},{"text": "[重命名]","color": "green","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我让物品名字设替换为内存文本(储存在内存中)(已经设置过)"},"clickEvent": {"action": "run_command","value": "/data modify storage minecraft:item player_select.tag.display.Name set from storage minecraft:text text"}}]
# 没存在内存中
execute as @s at @s unless data storage minecraft:text text run tellraw @s [{"text": "   "},{"text": "[重命名]","color": "green","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我编辑物品名字(储存在内存中)"},"clickEvent": {"action": "run_command","value": "/function mcch_text:text_edit"}}]

# 存在内存中，没设置过描述
execute as @s at @s if data storage minecraft:text text unless data storage minecraft:item player_select.tag.display.Lore run tellraw @s [{"text": "   "},{"text": "[设置描述(一个段落一行)]","color": "green","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我让物品描述设为内存文本(储存在内存中)"},"clickEvent": {"action": "run_command","value": "/data modify storage minecraft:item player_select.tag.display.Lore set from storage minecraft:text text"}}]
# 设置过描述
execute as @s at @s if data storage minecraft:text text if data storage minecraft:item player_select.tag.display.Lore run tellraw @s [{"text": "   "},{"text": "[设置描述(一个段落一行)]","color": "green","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我让物品描述替换为内存文本(储存在内存中)(已经设置过)"},"clickEvent": {"action": "run_command","value": "/data modify storage minecraft:item player_select.tag.display.Lore set from storage minecraft:text text"}}]
# 没存在内存中
execute as @s at @s unless data storage minecraft:text text run tellraw @s [{"text": "   "},{"text": "[设置描述]","color": "green","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我编辑物品描述(储存在内存中)"},"clickEvent": {"action": "run_command","value": "/function mcch_text:text_edit"}}]

tellraw @s [{"text": "\n   "},{"text": "[点击获取物品(来预览)]\n\n","color": "green","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我获取物品"},"clickEvent": {"action": "run_command","value": "/function mcch_give:give_giveitem"}},{"text": "[返回主页面]","color": "red","bold": true,"hoverEvent": {"action": "show_text","value": "§6点我返回主页面"},"clickEvent": {"action": "run_command","value": "/function mcch:start"}},{"text": "\n=============MCCH=============","bold": true,"color": "yellow"}]
kill @e[type=item,sort=nearest,limit=1,nbt={Tags:["mcch_item"]}]